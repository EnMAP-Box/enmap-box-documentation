
..
  ## AUTOGENERATED TITLE START

.. _alg-enmapbox-spatialconvolutionboxfilter:

******************************
Spatial convolution Box filter
******************************

..
  ## AUTOGENERATED TITLE END

..
  ## AUTOGENERATED DESCRIPTION START

2D Box filter.
The Box filter or running mean is a smoothing filter. It is not isotropic and can produce artifact, when applied repeatedly to the same data.

..
  ## AUTOGENERATED DESCRIPTION END

The Spatial convolution Box filter is used to reduce noise and blur an image by averaging pixel values within a defined neighborhood, defined by a square kernel with equal weights. The size of the kernel determines the extent of the blurring effect. The filter is not isotropic and can produce artifact, when applied repeatedly to the same data. An exemplary kernel can be found below.

    .. figure:: ../../processing_algorithms/convolution__morphology_and_filtering/img/box_kernel.png
       :align: center

Usage:

1. Start the algorithm from the Processing Toolbox panel.

2. Select the raster to process  and modify the parameterization if necessary, then click :guilabel:`run`.

    .. figure:: ../../processing_algorithms/convolution__morphology_and_filtering/img/box_filter_interface.png
       :align: center

3. Processed image in comparison to the original.

    .. figure:: ../../processing_algorithms/convolution__morphology_and_filtering/img/box_filter_result.png
       :align: center

..
  ## AUTOGENERATED PARAMETERS START

**Parameters**

:guilabel:`Raster layer` [raster]
    `Raster layer <https://enmap-box.readthedocs.io/en/latest/general/glossary.html#term-raster-layer>`_ to be filtered.

:guilabel:`Kernel` [string]
    Python code. See `Box2DKernel <http://docs.astropy.org/en/stable/api/astropy.convolution.Box2DKernel.html>`_ for information on different parameters.
    Default::

        from astropy.convolution import Box2DKernel
        kernel = Box2DKernel\(width=5\)

:guilabel:`Normalize kernel` [boolean]
    Whether to normalize the kernel to have a sum of one.
    Default: *False*

:guilabel:`Interpolate no data pixel` [boolean]
    Whether to interpolate no data pixel. Will result in renormalization of the kernel at each position ignoring pixels with `no data values <https://enmap-box.readthedocs.io/en/latest/general/glossary.html#term-no-data-value>`_.
    Default: *True*

**Outputs**

:guilabel:`Output raster layer` [rasterDestination]
    Raster file destination.

..
  ## AUTOGENERATED PARAMETERS END

..
  ## AUTOGENERATED COMMAND USAGE START

**Command-line usage**

``>qgis_process help enmapbox:spatialconvolutionboxfilter``::

    ----------------
    Arguments
    ----------------

    raster: Raster layer
        Argument type:    raster
        Acceptable values:
            - Path to a raster layer
    kernel: Kernel
        Default value:    from astropy.convolution import Box2DKernel
    kernel = Box2DKernel(width=5)
        Argument type:    string
        Acceptable values:
            - String value
            - field:FIELD_NAME to use a data defined value taken from the FIELD_NAME field
            - expression:SOME EXPRESSION to use a data defined value calculated using a custom QGIS expression
    normalize: Normalize kernel
        Default value:    false
        Argument type:    boolean
        Acceptable values:
            - 1 for true/yes
            - 0 for false/no
            - field:FIELD_NAME to use a data defined value taken from the FIELD_NAME field
            - expression:SOME EXPRESSION to use a data defined value calculated using a custom QGIS expression
    interpolate: Interpolate no data pixel
        Default value:    true
        Argument type:    boolean
        Acceptable values:
            - 1 for true/yes
            - 0 for false/no
            - field:FIELD_NAME to use a data defined value taken from the FIELD_NAME field
            - expression:SOME EXPRESSION to use a data defined value calculated using a custom QGIS expression
    outputRaster: Output raster layer
        Argument type:    rasterDestination
        Acceptable values:
            - Path for new raster layer

    ----------------
    Outputs
    ----------------

    outputRaster: <outputRaster>
        Output raster layer

..
  ## AUTOGENERATED COMMAND USAGE END

